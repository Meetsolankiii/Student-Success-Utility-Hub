<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Success Utility Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
        @media (min-width: 1024px) {
            #sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
            }
        }
        #timer-display { font-variant-numeric: tabular-nums; }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] { -moz-appearance: textfield; }
        .conversion-input { padding-right: 3rem !important; }
    </style>
</head>
<body class="min-h-screen">

    <div class="lg:flex">
        <!-- Sidebar Navigation -->
        <nav id="sidebar" class="bg-white lg:w-64 border-b lg:border-r lg:border-b-0 p-4 shadow-lg lg:shadow-xl z-10">
            <h1 class="text-2xl font-extrabold text-blue-700 mb-6 text-center lg:text-left">
                Student Hub
            </h1>
            <div class="flex flex-col space-y-2">
                <button data-page="home-view" class="nav-btn p-3 rounded-xl text-left font-semibold text-gray-700 hover:bg-blue-50 transition duration-150 flex items-center bg-blue-100 text-blue-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/></svg>
                    Dashboard
                </button>
                <button data-page="timer-view" class="nav-btn p-3 rounded-xl text-left font-semibold text-gray-700 hover:bg-blue-50 transition duration-150 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd"/></svg>
                    Focus Timer
                </button>
                <button data-page="calculator-view" class="nav-btn p-3 rounded-xl text-left font-semibold text-gray-700 hover:bg-blue-50 transition duration-150 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M4 4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 11V7h-4v8h4zM8 7H5.5c-.3 0-.5.2-.5.5V10h3.5c.3 0 .5-.2.5-.5V7.5a.5.5 0 00-.5-.5z"/></svg>
                    Student Calculator
                </button>
                <button data-page="guide-view" class="nav-btn p-3 rounded-xl text-left font-semibold text-gray-700 hover:bg-blue-50 transition duration-150 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 1.947l-4.223 4.222a1 1 0 01-1.414 0L1.757 13.757a1 1 0 01-1.414-1.414l4.222-4.223A6 6 0 0112 2v2a2 2 0 100 4h.01c.21 0 .42-.013.626-.048a.75.75 0 00.127-1.354A8.001 8.001 0 0018 8z" clip-rule="evenodd"/></svg>
                    Time Management
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="flex-grow p-4 lg:ml-64 lg:p-10">
            <div class="max-w-3xl mx-auto">
                
                <!-- Custom Alert/Message Box -->
                <div id="custom-alert" class="fixed top-4 right-4 z-50 p-3 rounded-xl shadow-2xl font-medium transition-opacity duration-300 opacity-0 transform translate-y-2"></div>
                
                <!-- Confirmation Modal -->
                <div id="confirmation-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4">
                    <div class="bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm transform scale-100 transition-all duration-300">
                        <h3 id="modal-title" class="text-xl font-bold text-gray-800 mb-4">Confirm Action</h3>
                        <p id="modal-message" class="text-gray-600 mb-6">Are you sure you want to proceed?</p>
                        <div class="flex justify-end space-x-3">
                            <button id="modal-cancel" class="px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition duration-150">Cancel</button>
                            <button id="modal-confirm" class="px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition duration-150">Confirm</button>
                        </div>
                    </div>
                </div>

                <!-- 1. Home View -->
                <section id="home-view" class="page-view bg-white rounded-3xl shadow-xl p-8 border-t-8 border-blue-500">
                    <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Welcome, Student!</h2>
                    <p class="text-xl text-gray-600 mb-8">Your focused toolkit for academic success and productivity.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div onclick="switchPage('timer-view')" class="p-6 bg-red-50 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer border border-red-200">
                            <h3 class="text-2xl font-bold text-red-700 mb-2">Focus Timer</h3>
                            <p class="text-gray-600">Use the Pomodoro technique to study in focused sprints and take mindful breaks.</p>
                        </div>
                        <div onclick="switchPage('calculator-view')" class="p-6 bg-green-50 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer border border-green-200">
                            <h3 class="text-2xl font-bold text-green-700 mb-2">Student Calculator</h3>
                            <p class="text-gray-600">Quickly convert your CGPA/CPI to Percentage and calculate raw score percentages.</p>
                        </div>
                        <div onclick="switchPage('guide-view')" class="p-6 bg-yellow-50 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer border border-yellow-200">
                            <h3 class="text-2xl font-bold text-yellow-700 mb-2">Time Management</h3>
                            <p class="text-gray-600">Learn practical routines and steps to organize your study schedule and life.</p>
                        </div>
                        <!-- Empty placeholder to maintain grid alignment -->
                        <div class="p-6 rounded-xl border border-dashed border-gray-300 text-gray-500 flex items-center justify-center">
                            Extra tool space
                        </div>
                    </div>
                </section>

                <!-- 2. Focus Timer View -->
                <section id="timer-view" class="page-view hidden w-full max-w-lg mx-auto bg-white rounded-3xl shadow-2xl p-6 md:p-10 border-t-8 border-red-600">
                    <h2 class="text-3xl font-extrabold text-gray-900 mb-6 text-center">Focus & Study Timer</h2>
                    <p class="text-center text-gray-500 mb-8">Manage your study time and take breaks efficiently.</p>

                    <!-- Timer Mode Selector -->
                    <div class="flex justify-center space-x-2 bg-gray-100 p-2 rounded-xl mb-8">
                        <button id="timer-focus-btn" data-time="25" class="timer-mode-btn px-4 py-2 text-sm font-semibold rounded-lg transition duration-200 bg-red-600 text-white shadow-md">Focus (25m)</button>
                        <button id="timer-break-btn" data-time="5" class="timer-mode-btn px-4 py-2 text-sm font-semibold rounded-lg transition duration-200 text-gray-700 hover:bg-red-100">Short Break (5m)</button>
                        <button id="timer-long-break-btn" data-time="15" class="timer-mode-btn px-4 py-2 text-sm font-semibold rounded-lg transition duration-200 text-gray-700 hover:bg-red-100">Long Break (15m)</button>
                    </div>

                    <!-- Timer Display -->
                    <div class="text-center mb-10">
                        <div id="timer-display" class="text-8xl md:text-9xl font-extrabold text-red-700 tracking-tighter">
                            25:00
                        </div>
                        <p id="timer-status-message" class="text-xl font-semibold text-gray-600 mt-2">Ready to focus!</p>
                    </div>

                    <!-- Controls -->
                    <div class="flex justify-center space-x-4">
                        <button id="timer-start-pause-btn" class="flex items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                            <span id="timer-start-pause-text">START</span>
                        </button>
                        <button id="timer-reset-btn" class="flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                            RESET
                        </button>
                    </div>
                    
                    <audio id="timer-alarm-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-bell-notification-983.mp3" preload="auto"></audio>
                </section>

                <!-- 3. Student Calculator View -->
                <section id="calculator-view" class="page-view hidden w-full max-w-xl mx-auto bg-white rounded-3xl shadow-xl p-6 md:p-8 border-t-8 border-green-600">
                    <h2 class="text-3xl font-bold text-gray-900 mb-2 text-center">Student Score Calculator</h2>
                    <p class="text-center text-gray-600 mb-8">Convert scores and calculate percentages quickly.</p>

                    <div class="space-y-8">
                        <!-- CGPA/CPI to Percentage Converter -->
                        <div class="p-6 bg-green-50 rounded-2xl shadow-inner border border-green-200">
                            <h3 class="text-xl font-semibold text-green-800 mb-4">CGPA/CPI to Percentage</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="calc-gpa" class="block text-sm font-medium text-gray-700">Your CGPA/CPI (e.g., 8.5)</label>
                                    <input type="number" id="calc-gpa" min="0" max="10" step="0.01" class="mt-1 block w-full p-3 border-gray-300 focus:ring-green-500 focus:border-green-500 rounded-lg shadow-sm" placeholder="Enter GPA">
                                </div>
                                
                                <div>
                                    <label for="calc-factor" class="block text-sm font-medium text-gray-700">Conversion Factor (e.g., 9.5)</label>
                                    <input type="number" id="calc-factor" min="1" max="15" step="0.1" value="9.5" class="mt-1 block w-full p-3 border-gray-300 focus:ring-green-500 focus:border-green-500 rounded-lg shadow-sm">
                                </div>
                                
                                <div class="bg-white p-4 rounded-lg border border-green-300 flex justify-between items-center">
                                    <span class="text-base font-medium text-gray-700">Equivalent Percentage:</span>
                                    <span id="calc-percent-result" class="text-3xl font-extrabold text-green-700">0.00%</span>
                                </div>
                                <p class="text-xs text-gray-500 mt-2 text-center">Note: The standard conversion factor is often $9.5$, but verify with your university.</p>
                            </div>
                        </div>

                        <!-- Raw Score Percentage Calculator -->
                        <div class="p-6 bg-green-50 rounded-2xl shadow-inner border border-green-200">
                            <h3 class="text-xl font-semibold text-green-800 mb-4">Raw Score Percentage</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="calc-marks-obtained" class="block text-sm font-medium text-gray-700">Marks Obtained</label>
                                    <input type="number" id="calc-marks-obtained" min="0" step="0.01" class="mt-1 block w-full p-3 border-gray-300 focus:ring-green-500 focus:border-green-500 rounded-lg shadow-sm" placeholder="e.g., 450">
                                </div>
                                
                                <div>
                                    <label for="calc-total-marks" class="block text-sm font-medium text-gray-700">Total Marks Possible</label>
                                    <input type="number" id="calc-total-marks" min="1" step="0.01" class="mt-1 block w-full p-3 border-gray-300 focus:ring-green-500 focus:border-green-500 rounded-lg shadow-sm" placeholder="e.g., 600">
                                </div>
                                
                                <div class="bg-white p-4 rounded-lg border border-green-300 flex justify-between items-center">
                                    <span class="text-base font-medium text-gray-700">Calculated Percentage:</span>
                                    <span id="calc-raw-percent-result" class="text-3xl font-extrabold text-green-700">0.00%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 4. Time Management Guide View -->
                <section id="guide-view" class="page-view hidden w-full mx-auto bg-white rounded-3xl shadow-xl p-8 border-t-8 border-yellow-500">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center">Effective Time Management for Students</h2>
                    
                    <div class="space-y-8 text-gray-700">
                        <p>Mastering time management is key to reducing stress and maximizing academic performance. Follow these structured steps to build a powerful routine.</p>

                        <!-- Step-by-Step Guide -->
                        <div class="bg-yellow-50 p-6 rounded-xl border border-yellow-200">
                            <h3 class="text-xl font-bold text-yellow-700 mb-4">The 4-Step Time Management Routine</h3>
                            <ol class="list-decimal list-inside space-y-3 pl-4">
                                <li>
                                    <span class="font-semibold">Capture and Prioritize:</span> At the start of the week, list every task (assignments, readings, chores). Use the **Eisenhower Matrix** (Urgent/Important) to rank them.
                                </li>
                                <li>
                                    <span class="font-semibold">Block Your Time:</span> Use a digital or physical calendar. Allocate specific time blocks for each high-priority task. Treat these blocks like non-negotiable appointments.
                                </li>
                                <li>
                                    <span class="font-semibold">Execute with Focus:</span> When working, eliminate distractions (silence phone, close non-essential tabs). Use the **Focus Timer (Pomodoro)** for $25$ minutes of deep work, followed by a $5$-minute break.
                                </li>
                                <li>
                                    <span class="font-semibold">Review and Adjust:</span> At the end of each day, quickly review what you accomplished and what you missed. Move incomplete tasks to tomorrow's list and adjust your schedule for the next day.
                                </li>
                            </ol>
                        </div>
                        
                        <!-- Daily Routine -->
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-md">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Sample Ideal Student Daily Routine</h3>
                            <ul class="space-y-2">
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">7:00 AM:</span> Wake up, light exercise, quick review of daily goals.</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">8:00 AM:</span> High-priority, deep-focus study session (before emails/distractions).</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">12:00 PM:</span> Lunch & short break. Plan afternoon session.</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">2:00 PM:</span> Classes/meetings or group study/review time.</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">6:00 PM:</span> Dinner & disconnect (no study).</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">8:00 PM:</span> Light review, prepare materials for the next day.</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">10:00 PM:</span> Wind-down routine (reading, no screens).</li>
                                <li class="flex items-center"><span class="font-bold w-20 text-yellow-600">11:00 PM:</span> Sleep.</li>
                            </ul>
                        </div>
                    </div>
                </section>
                
            </div>
        </main>
    </div>

    <script>
        // --- Core Application Functions ---

        /**
         * Switches the active page view and updates navigation styling.
         * @param {string} pageId - The ID of the section to show (e.g., 'home-view').
         */
        const switchPage = (pageId) => {
            document.querySelectorAll('.page-view').forEach(view => {
                view.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-100', 'text-blue-700');
                btn.classList.add('text-gray-700', 'hover:bg-blue-50');
            });

            const activeBtn = document.querySelector(`.nav-btn[data-page="${pageId}"]`);
            if (activeBtn) {
                activeBtn.classList.add('bg-blue-100', 'text-blue-700');
                activeBtn.classList.remove('text-gray-700', 'hover:bg-blue-50');
            }
            
            // Re-run initialization logic for the activated view
            if (pageId === 'calculator-view') {
                calc_gpaToPercent();
                calc_rawScorePercent();
            }
        };

        // Custom Alert/Message Box (replacing alert())
        const alertMessage = (message, classes) => {
            const msgBox = document.getElementById('custom-alert');
            msgBox.textContent = message;
            msgBox.className = `fixed top-4 right-4 z-50 p-3 rounded-xl shadow-2xl font-medium transition-opacity duration-300 ${classes} opacity-100 transform translate-y-0`;

            setTimeout(() => {
                msgBox.classList.remove('opacity-100', 'transform', 'translate-y-0');
                msgBox.classList.add('opacity-0', 'transform', 'translate-y-2');
            }, 3000);
        }

        /**
         * Custom Confirmation Dialog (replacing window.confirm())
         * @param {string} title - The title of the dialog.
         * @param {string} message - The message content.
         * @returns {Promise<boolean>} - Resolves true if confirmed, false if cancelled.
         */
        const customConfirm = (title, message) => {
            return new Promise(resolve => {
                const modal = document.getElementById('confirmation-modal');
                document.getElementById('modal-title').textContent = title;
                document.getElementById('modal-message').textContent = message;
                modal.classList.remove('hidden');

                const confirmAction = () => {
                    modal.classList.add('hidden');
                    document.getElementById('modal-confirm').removeEventListener('click', confirmAction);
                    document.getElementById('modal-cancel').removeEventListener('click', cancelAction);
                    resolve(true);
                };

                const cancelAction = () => {
                    modal.classList.add('hidden');
                    document.getElementById('modal-confirm').removeEventListener('click', confirmAction);
                    document.getElementById('modal-cancel').removeEventListener('click', cancelAction);
                    resolve(false);
                };

                document.getElementById('modal-confirm').addEventListener('click', confirmAction);
                document.getElementById('modal-cancel').addEventListener('click', cancelAction);
            });
        };

        // Initial setup for navigation buttons
        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', (e) => switchPage(e.currentTarget.dataset.page));
        });


        // --- 2. Focus Timer Logic (timer-view) ---

        const timerDisplay = document.getElementById('timer-display');
        const timerStartPauseBtn = document.getElementById('timer-start-pause-btn');
        const timerResetBtn = document.getElementById('timer-reset-btn');
        const timerStatusMessage = document.getElementById('timer-status-message');
        const timerAlarmSound = document.getElementById('timer-alarm-sound');
        const timerModeButtons = document.querySelectorAll('.timer-mode-btn');

        let timer_intervalId = null;
        let timer_isRunning = false;
        let timer_totalSeconds = 25 * 60; 
        let timer_defaultTime = 25 * 60;
        let timer_currentMode = 'Focus';

        const timer_formatTime = (seconds) => {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            const paddedMinutes = String(minutes).padStart(2, '0');
            const paddedSeconds = String(remainingSeconds).padStart(2, '0');
            return `${paddedMinutes}:${paddedSeconds}`;
        };

        const timer_updateDisplay = () => {
            timerDisplay.textContent = timer_formatTime(timer_totalSeconds);
            document.title = `${timer_formatTime(timer_totalSeconds)} | ${timer_currentMode}`;
        };

        const timer_tick = () => {
            if (timer_totalSeconds > 0) {
                timer_totalSeconds--;
                timer_updateDisplay();
            } else {
                clearInterval(timer_intervalId);
                timer_isRunning = false;
                timerStartPauseBtn.innerHTML = 'START';
                timerStatusMessage.textContent = `${timer_currentMode} complete! Time for a change.`;
                timerAlarmSound.play();
                
                // Switch mode after completion
                if (timer_currentMode.includes('Focus')) {
                    timer_setMode(document.getElementById('timer-break-btn'));
                } else {
                    timer_setMode(document.getElementById('timer-focus-btn'));
                }
            }
        };

        const timer_toggleTimer = () => {
            if (timer_isRunning) {
                clearInterval(timer_intervalId);
                timer_isRunning = false;
                timerStartPauseBtn.innerHTML = 'RESUME';
                timerStartPauseBtn.classList.replace('bg-green-500', 'bg-yellow-500');
                timerStatusMessage.textContent = `${timer_currentMode} paused.`;
            } else {
                timer_intervalId = setInterval(timer_tick, 1000);
                timer_isRunning = true;
                timerStartPauseBtn.innerHTML = 'PAUSE';
                timerStartPauseBtn.classList.replace('bg-yellow-500', 'bg-green-500');
                timerStatusMessage.textContent = `Time to ${timer_currentMode.toLowerCase()}!`;
            }
        };

        const timer_resetTimer = () => {
            clearInterval(timer_intervalId);
            timer_isRunning = false;
            timer_totalSeconds = timer_defaultTime;
            timerStartPauseBtn.innerHTML = 'START';
            timerStartPauseBtn.classList.replace('bg-yellow-500', 'bg-green-500');
            timer_updateDisplay();
            timerStatusMessage.textContent = `Ready for ${timer_currentMode.toLowerCase()}!`;
        };
        
        const timer_setMode = (button) => {
            clearInterval(timer_intervalId);
            timer_isRunning = false;
            timerStartPauseBtn.innerHTML = 'START';
            timerStartPauseBtn.classList.replace('bg-yellow-500', 'bg-green-500');

            const minutes = parseInt(button.dataset.time) || 25;
            timer_defaultTime = minutes * 60;
            timer_totalSeconds = timer_defaultTime;
            timer_currentMode = button.textContent.split('(')[0].trim();
            
            timerModeButtons.forEach(btn => {
                btn.classList.remove('bg-red-600', 'text-white', 'shadow-md');
                btn.classList.add('text-gray-700', 'hover:bg-red-100');
            });
            button.classList.add('bg-red-600', 'text-white', 'shadow-md');
            button.classList.remove('text-gray-700', 'hover:bg-red-100');
            
            timer_updateDisplay();
            timerStatusMessage.textContent = `Ready for ${timer_currentMode.toLowerCase()}!`;
        }

        timerStartPauseBtn.addEventListener('click', timer_toggleTimer);
        timerResetBtn.addEventListener('click', timer_resetTimer);
        timerModeButtons.forEach(button => {
            button.addEventListener('click', () => timer_setMode(button));
        });


        // --- 3. Student Calculator Logic (calculator-view) ---

        const calcGpaInput = document.getElementById('calc-gpa');
        const calcFactorInput = document.getElementById('calc-factor');
        const calcPercentResult = document.getElementById('calc-percent-result');
        const calcMarksObtainedInput = document.getElementById('calc-marks-obtained');
        const calcTotalMarksInput = document.getElementById('calc-total-marks');
        const calcRawPercentResult = document.getElementById('calc-raw-percent-result');

        const calc_gpaToPercent = () => {
            const gpa = parseFloat(calcGpaInput.value);
            const factor = parseFloat(calcFactorInput.value);

            if (isNaN(gpa) || isNaN(factor) || gpa < 0 || factor <= 0) {
                calcPercentResult.textContent = '0.00%';
                return;
            }

            const percentage = gpa * factor;
            calcPercentResult.textContent = `${Math.min(percentage, 100).toFixed(2)}%`;
        };

        const calc_rawScorePercent = () => {
            const obtained = parseFloat(calcMarksObtainedInput.value);
            const total = parseFloat(calcTotalMarksInput.value);

            if (isNaN(obtained) || isNaN(total) || obtained < 0 || total <= 0) {
                calcRawPercentResult.textContent = '0.00%';
                return;
            }

            const percentage = (obtained / total) * 100;
            calcRawPercentResult.textContent = `${Math.min(percentage, 100).toFixed(2)}%`;
        };

        const calcInputs = [calcGpaInput, calcFactorInput, calcMarksObtainedInput, calcTotalMarksInput];
        calcInputs.forEach(input => {
            input.addEventListener('input', () => {
                calc_gpaToPercent();
                calc_rawScorePercent();
            });
        });


        // --- Overall App Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Timer to default state
            timer_updateDisplay();
            
            // Start on the home view
            switchPage('home-view');
        });

    </script>
</body>
</html>
